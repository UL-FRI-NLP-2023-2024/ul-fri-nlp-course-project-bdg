[
    {
        "role": "user",
        "message": "Živjo. Na razpolago imam šest trdih diskov po 320 GB. Zanima me, kateri RAID bi se najbolj splačalo postaviti? Diski bodo v računalniku, ki se bo uporabljal predvsem za namizno rabo. RAID potrebujem za primer, da kakšen disk odleti, seveda pa morajo biti tudi performanse čim boljše. Razmišljal sem v smeri RAID-10 ali RAID-5, vendar ne vem, koliko placa bom imel potem dejansko na razpolago.  Kaj predlagate? Vnaprej hvala za nasvet"
    },
    {
        "role": "assistant_0",
        "message": "Pri RAID10 boš mel 3x320GB (3xRAID1 po 2 diska, povezane v RAID0) , RAID5 pa 5x320GB (6-1 disk). Lahko pa tudi razmisliš o RAID50(2xRAID5 po 3 diske povezane v RAID0)"
    },
    {
        "role": "user",
        "message": "ravno prebiram o RAID-50 in mislim, da bom kar zagriznil v to   dasi implementacija te reči ni tako enostavna, kot sem si mislil."
    },
    {
        "role": "assistant_1",
        "message": "Performanse: Zavedati se moraš, da pri RAID5 vsak write na disk pomeni 2 x read+ 2 x write. Pomeni 4 dostopi do diskov, od katerih se po 2 lahko izvajata vzporedno.  Če boš imel RAID50, bo za vsak write npr. 2 grup blokov treba najprej prebrati grupe blokov s 4 diskov in potem spet zapisati 4 glupe blokov. Vmes se mora še stara vsebina odšteti od kontrolne vsote in nova prišteti kontrolni vsoti.  V glavnem RAID5 je hiter za branje in počasen za pisanje."
    },
    {
        "role": "user",
        "message": "vem vem, ravno zato zdaj besno prebiram dokumentacijo o RAID 50, magari zaenkrat nisem našel še nič kaj pretirano uporabnega. posebej, kar se particioniranja tiče, sem pa zasledil, da ni mogoče bootat sistema, ki je na RAID-5 polju.  Hmm...further investigate I will.  Hvala vsem do zdaj."
    },
    {
        "role": "assistant_2",
        "message": "Jaz bi šel na RAID-6..."
    },
    {
        "role": "user",
        "message": "Kakšne so pa performanse RAID 6 polja?  Kar se RAID 50 polja tiče, pa se zgleda to naredi tako, da se na vsakem disku naredi eno particijo (Linux RAID autodetect) in potem preko LVM naštimat \"particije\"."
    },
    {
        "role": "assistant_2",
        "message": "Neki si pomešal. LVM nima neposredne zveze z RAIDom.  RAID-6 polje ima dva redundančna diska, torej ti lahko crkneta največ dva v polju, preden se tudi ostali podatki poslovijo.  Performanse SW RAID-6 naj bi bile podobne SW RAAID-5, mogoče malo slabše.  Snag je v tem, da je treba tu izračunavati dva extra sektorja namesto enega po vpisu, vendar pa to po moje ne odnese veliko. Pa tudi tega ni, če podatke bereš. Takrat imaš od tega celo korist, ker (dokler je s podatki vse v redu in noben od diskov ne prijavi napake) lahko bereš z vseh 6 diskov različne končke datoteke in si lahko celo nekaj hitrejši na ta račun.  Prinese pa ohoho. Z RAID-6 ne boš na smrt prešvical vsakič, ko ti odnese kak disk in boš lahko mirno skočil v štacuno ponj, tudi če ga nimaš kje v rezervi.   Pri RAID-5 te opcije ni. Tam bi moral imeti en extra disk vedno v predalu..."
    },
    {
        "role": "assistant_2",
        "message": "V tvojem primeru bi ti torej RAID-6 dal uprabne kapacitete 4x320 GB, redundanco do dveh crknejih driveov, linear read bi se ti teoretično lahko zavrtel tja do 6x hitrost enega drivea, linear write pa do reciva 4x hitrosti vpisa enega drivea.  V praksi se tudi HW krmilniki težko približajo temu, s SW bi pa po moje lahko bil zadovoljen z ene 200 MB/s linear read, pa mogoče recimo 70MB write. Verjetno zelo odvisno od hitrosti procesorja pa kakovosti nabora plate. S kakim starim P3 na 1 GHz ne bi prišel do tja, s čem novejšim pa mogoče. Ne vem točno, že dolgo se nisem zafrkaval s SW RAID-om.  Po moje bi delalo več ko spodobno za domačo rabo."
    },
    {
        "role": "assistant_3",
        "message": "Če boš delal hardverski raid, ne kompliciri in naredi RAID 5, sistem itak \"ne bo vedel\" kaj je spodaj. Lahko upoprabiš tudi samo 4 diske in maš enega skoz na zalogi in se počutiš res varno.  Če pa delaš softverski RAID bi pa jaz bi dal dva diska v RAID1 (mirror) in na teh dveh imel sistem (in nimaš problemov z bootanjem), ostale 3 pa na RAID 5 in na njih imel podatke."
    },
    {
        "role": "user",
        "message": "@assistant_3ukec: postavil bom izključno softverski raid - je precej manj dela (sort of).  diski bodo priključeni na Intelovo strežniško ploščo preko SATA vodila. Škatlo bosta poganjala dva Xeona 5320 (torej 8-procesorska zverina).  @assistant_2: hvala za informacije! RAID-6 bo verjetno res to, kar iščem. Še dve stvari, če mi lahko pojasniš.   Če sem prav prebral, sistema ni mogoče pognati iz RAID-6 polja, ampak je treba imeti eno particijo (lahko je particija ali pa eno drugo RAID1 polje recimo), kjer je /boot. Je to res?  Swap particije na RAID-6 polju verjetno ne morem imet, ali pač?  Ker bi najraje na vseh diskih definiral eno samo particijo (čez cel disk) in potem preko LVMja nastavil vse ostale particije (/, /home, ...)  Iskrena hvala vnaprej."
    },
    {
        "role": "assistant_2",
        "message": "Zdaj o mejah možnega ne bi. Najbrž se da imeti boot na RAID-5/6 etc, samo vem da sem se pred časom trudil s tem, pa mi ni ratalo.  Največji problem bi bil prepričati GRUB kako naj pobere kernel z RAID-a, ki ga še ni, ker se kernel še ni zagnal.  Zato nisem kompliciral, ampak sem prvih recimo 200 MB na vseh diskih porabil za posebne namene. N prvih dveh diskih sem tako iz njiju naredil RAID-1 velik 200 MB, kjer počiva /boot particija, kerneli itd.  BIOS pa je nastavljen tako, da se boota s prvega ali drugega drivea. BIOS torej vidi samo en del RAID-a, ki pa je itak enak drugemu.   Ko se kernel naloži in zaštarta, pa že zna poiskati RAID-polja...  Kar se tistega nasveta o tem,d a imej extra drive raje v predalu tiče, jaz ne bi.   Eno je teorija, drugo je praksa. Se mi je že zgodilo,d a mi je v RAID-6 en drive crknil, drugi pa \"padel\" iz RAID-a in drm ga moral rebuildat.  Če bi se takrat karkoli zgodilo- bye bye 1.5 TB podatkov in kar nekaj časa za preklinjanje, iskanje backupov itd.  Čimveč podatkov imaš na kupu, tembolj ti je pomembno da se nanje lahko zaneseš."
    },
    {
        "role": "assistant_2",
        "message": "lkukec: postavil bom izključno softverski raid - je precej manj dela (sort of).  IMHO ravno obratno. Z HW RAID je veliko manj dela. Zapikaš vanj diske, padeš v RAID BIOS kjer nastaviš kakšne celote bi rad sestavil iz njih in toje to.  NA svoji ARECA-i imam 16 komadov WD 200 GB v RAID-6.  V BIOSu kartice sem nastavil, da želim iz tega RAID polja 3 diske. Eneg amajhnega za boot, enega za swap in enega za vse ostalo. I to je to. Mja moašina vidi HW RAID kot SCSI kontroloer, na katerega so priklopljeni trije SCSI diski natanko željene velikosti.   Vse kar rabim v Lnux kernelu, je SCSI driver za Areca kartico ( je že serijsko not v novih 2.6.19 in več).   To je vse. Jaz tudi bootam z RAID-6... :o)  Če imaš denar za takega Xeona, valjda boš dal nekaj za pošten HW RAID..."
    },
    {
        "role": "user",
        "message": "nikoli prej nisem razmišljal o HW RAID-u, ker sem nekako imel (zmotno) v glavi, da je z njim več problemov kot koristi    mašina je pa že na mizi (nekako) v službi. Zaenkrat bom nastavil softverski RAID-6 in sicer tako, da bom upošteval tvoj nasvet - na vsakem disku: 100 MB za /boot (6x mirror), 8GB za swap (6x mirror) (rabim, dokler ne pride še ena škatla s palčkami rama), ostalo pa za / oz. vse ostalo.  Hvala za nasvete @assistant_2.  PS: za crknjene diske pa bom ponucal hot-swapanje."
    },
    {
        "role": "assistant_2",
        "message": "Problemi so s poceni elcheapo crap HW raidi. Spodobne zadeve pa delajo in to HITRO. Vsekakor pa ne vse enako. Če/ko se boš spustil v nabavo, si preberi teste in benchmarke.  Je pa haklc, če ti crkne HW RAID kartica. Takrat se ti zna zgoditi, da rabiš natanko enako nadomestno, če hočeš podatke nazaj.  Ampak na SW RAID ne grem pa tudi če mi crkne Areca. Ni variante."
    },
    {
        "role": "assistant_2",
        "message": "Aja, še eno bistvneo prdnost HW RAID-a sem pozabu: baterijsko napajan RAM.   Vsak RAID uproablja neke bufferje, da čimbolj pospeši prenose. Pri SWje na volj to, kar pač je v standardni mašini in RAM pač kernel vzame od sistema. Ta pa ni posebej napajan. Rezultat je ta, da aplikacija nikoli ne more vedeli ali bodo njeni podatki, ki jih je RAID pravkar prevzel, prišli do diska. Cel RAID se namreč obnaša kot posebna enota. Če od časa njegovega prevzema podatkov do takrat, ko je te dal diskom kaj kje poči, gredo podatki v izgubo.  Poštene HW RAID kartice pa imajo baterijo za napajanje vdelanega RAM-a, pa tudi ločene so od preostanka sistema. Določena aplikacija ali celo sam kernel lahko znori, vendar ne more neposredno prepisati tistega RAM-a. Stvar se v praksi izkaže kot precej bolj stabilna na daljši rok..."
    },
    {
        "role": "user",
        "message": "si lahko samo predstavljam...podobno kot upam, da ne bo odletel nobeden od diskov v novi mašini..."
    },
    {
        "role": "assistant_4",
        "message": "ce sw potem dva diska v raid1 ostali stirje v 10 potem tako ves kaj kje uporabit  ce hw, potem orng hw  za osebno rabo, 6 diskov kaj bos pa imel to gor :)"
    },
    {
        "role": "user",
        "message": "toliko diskovja bom imel v službi, kjer opravljam računalniške simulacije velikih bioloških sistemov. Rezultati teh simulacij so zelo veliki fajli, tipično okrog 500 MB, dostikrat jih je kakšnih 100.  ostala strojna oprema je pa tako močna zato, ker so računalniki v gruči venomer zasedeni in se na njih ne da nič računat, tako pa bom računal kar na \"namizni\" mašini."
    },
    {
        "role": "assistant_4",
        "message": "in imas vec write ali read? bos mel kaksen unix ali winse"
    },
    {
        "role": "user",
        "message": "Tako readov kot write-ov je dosti. Readov je sicer po moji oceni nekaj več. Sistem gor bo Linux. Winsi bi imeli problemi s tolikšnim številom diskov, rama, procesorjev  osrednja aplikacija dela v Linuxu - glavni razlog za uporabo Linuxa."
    },
    {
        "role": "assistant_4",
        "message": "potem tudi gledaj, kaksen file sistem bos imel journaling ext3 je pri velikih file-ih pocasnejsi kot recimo ext2 XFS, mogoce JFS, poglej malo teste, ali pa malo potestiraj recimo jaz pri oraclu na linuxu uporabim OFS in je kr prihranek  ce ves kako in kaj, potem za write raid1, za read 10, seveda ce je to mozno ce imas pa full intenzivno, pa boljse z kaksnim dobrim hw raidom"
    },
    {
        "role": "assistant_2",
        "message": "ext3 je zelo tweakable.  Lahko mu relativno enotavno nastaviš marsikaj, tudi kako naj dela journal.  Lahko si celo omisliš externi journal zanj in se ta vrti na posebnem disku, če je treba. Sam se tega nsiem nikoli šel, je pa dobro vedeti,da se da.  Poleg tega je fully compatible z ext2. Ext3 lahko vedno zmountaš kot ext2, če si se odločil, da journala ne rabiš..."
    },
    {
        "role": "user",
        "message": "HW raid zaenkrat odpade. Zaenkrat bom šel v softverski RAID. Z RAID-1 polji v Linuxu imam zelo dobre izkušnje, delajo izredno dobro.  Datotečni sistemi bodo:  Reiserfs3 za vse razen /home/zidar/calc/ (res velike datoteke, mogoče bom dal nekam v bližino še poštni nabiralnik), kjer bom imel XFS. Na zunanjem disku (400GB na USBju) bo prav tako Reiserfs3, vendar bo veliko večino časa od-mountan. Mountal se bo predvidoma enkrat na teden, ko se bo delal gor backup moje home mape.  Ker bom postavljal sistem na novo, bom preizkusil še LVM2 tako, da bo verjetno datotečnih sistemov več."
    }
]